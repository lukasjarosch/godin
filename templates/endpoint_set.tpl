// Code generated by Godin v{{ .Godin.Version }}; DO NOT EDIT.

package endpoint

import (
    "context"
    "github.com/go-kit/kit/endpoint"
    godinMiddleware "github.com/lukasjarosch/godin/pkg/middleware"
    service "{{ .Service.Module }}"
)

type Set struct {
    {{ range .Service.Methods }}
        {{ .Name }}Endpoint endpoint.Endpoint
     {{- end }}
}

func Endpoints(service service.{{ .Service.Name }}, duration metrics.Histogram, frequency metrics.Counter) Set {
    {{ range .Service.Methods }}
    var {{ untitle .Name }} endpoint.Endpoint
    {
        {{ untitle .Name }} = {{ .Name }}Endpoint(service)
        {{ untitle .Name }} = godinMiddleware.LatencyMiddleware(duration, "{{ .Name }}")({{ untitle .Name }})
        {{ untitle .Name }} = godinMiddleware.RequestFrequency(frequency, "{{ .Name }}")({{ untitle .Name }})
    }
    {{- end }}

    return Set{
        {{- range .Service.Methods }}
            {{ .Name }}Endpoint: {{ untitle .Name}}Endpoint,
        {{- end }}
    }
}

